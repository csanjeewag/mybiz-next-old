{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\n\nvar _this = this;\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Head from 'next/head';\nimport Layout from '../layouts/MainLayout';\nimport Cartitem from '../components/Cartitem';\nimport SubNavBar from '../layouts/SubNavbar';\nimport Footer from '../components/Footer';\nimport Cookie from \"js-cookie\";\nimport { Url, ImageUrl, web, WebUrl } from './../constant/main';\n\nvar OrderTable = function OrderTable(props) {\n  return __jsx(\"div\", {\n    className: \"jsx-2598823589\" + \" \" + \"order-table\"\n  }, __jsx(\"div\", {\n    role: \"group\",\n    \"aria-label\": \"Basic example\",\n    className: \"jsx-2598823589\" + \" \" + \"btn-group btn-group-sm col-12 \"\n  }, __jsx(\"button\", {\n    onClick: props.getorderbystate.bind(_this, 'all'),\n    type: \"button\",\n    className: \"jsx-2598823589\" + \" \" + \"btn btn-secondary fontsizeE1\"\n  }, __jsx(\"img\", {\n    src: \"https://img.icons8.com/ios/20/ffffff/show-all-views.png\",\n    className: \"jsx-2598823589\"\n  }), \"  All\"), __jsx(\"button\", {\n    onClick: props.getorderbystate.bind(_this, 'new'),\n    type: \"button\",\n    className: \"jsx-2598823589\" + \" \" + \"btn btn-secondary fontsizeE1\"\n  }, __jsx(\"img\", {\n    src: \"https://img.icons8.com/ios/20/ffffff/new.png\",\n    className: \"jsx-2598823589\"\n  }), \" new\"), __jsx(\"button\", {\n    onClick: props.getorderbystate.bind(_this, 'mail'),\n    type: \"button\",\n    className: \"jsx-2598823589\" + \" \" + \"btn btn-secondary fontsizeE1\"\n  }, __jsx(\"img\", {\n    src: \"https://img.icons8.com/ios/20/ffffff/upload-mail.png\",\n    className: \"jsx-2598823589\"\n  }), \" email\"), __jsx(\"button\", {\n    onClick: props.getorderbystate.bind(_this, 'confirm'),\n    type: \"button\",\n    className: \"jsx-2598823589\" + \" \" + \"btn btn-secondary fontsizeE1\"\n  }, __jsx(\"img\", {\n    src: \"https://img.icons8.com/ios/20/ffffff/checked-checkbox.png\",\n    className: \"jsx-2598823589\"\n  }), \" confirm\"), __jsx(\"button\", {\n    onClick: props.getorderbystate.bind(_this, 'remove-by-customer'),\n    type: \"button\",\n    className: \"jsx-2598823589\" + \" \" + \"btn btn-secondary fontsizeE1\"\n  }, \" \", __jsx(\"img\", {\n    src: \"https://img.icons8.com/ios/20/ffffff/trash.png\",\n    className: \"jsx-2598823589\"\n  }), \" removes\")), __jsx(\"table\", {\n    className: \"jsx-2598823589\" + \" \" + \"table table-striped\"\n  }, __jsx(\"thead\", {\n    className: \"jsx-2598823589\"\n  }, __jsx(\"tr\", {\n    className: \"jsx-2598823589\"\n  }, __jsx(\"th\", {\n    scope: \"col\",\n    className: \"jsx-2598823589\"\n  }), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"jsx-2598823589\"\n  }, \"state\"), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"jsx-2598823589\"\n  }, \"Item Details\"), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"jsx-2598823589\"\n  }, \"Price\"), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"jsx-2598823589\"\n  }, \"Shop details\"), __jsx(\"th\", {\n    scope: \"col\",\n    className: \"jsx-2598823589\"\n  }, \"massage\"))), __jsx(\"tbody\", {\n    className: \"jsx-2598823589\"\n  }, props.orders.map(function (x, i) {\n    return __jsx(\"tr\", {\n      key: i,\n      className: \"jsx-2598823589\"\n    }, __jsx(\"th\", {\n      className: \"jsx-2598823589\"\n    }, __jsx(\"div\", {\n      className: \"jsx-2598823589\"\n    }, __jsx(\"img\", {\n      width: \"50px\",\n      src: ImageUrl + x.item.images[0],\n      className: \"jsx-2598823589\"\n    }), __jsx(\"p\", {\n      className: \"jsx-2598823589\" + \" \" + \"fontsizeE-8\"\n    }, x.createDate)), \" \"), __jsx(\"td\", {\n      className: \"jsx-2598823589\"\n    }, __jsx(\"div\", {\n      className: \"jsx-2598823589\" + \" \" + \"item-details font6\"\n    }, __jsx(\"p\", {\n      className: \"jsx-2598823589\" + \" \" + \"topicColor\"\n    }, x.state, \" \"), x.state != 'remove-by-shop' ? __jsx(\"p\", {\n      className: \"jsx-2598823589\"\n    }, __jsx(\"img\", {\n      onClick: props.updateorder.bind(_this, x._id, 'new'),\n      src: \"https://img.icons8.com/ios/25/000000/new.png\",\n      className: \"jsx-2598823589\"\n    }), __jsx(\"img\", {\n      onClick: props.updateorder.bind(_this, x._id, 'remove-by-customer'),\n      src: \"https://img.icons8.com/ios/25/000000/trash.png\",\n      className: \"jsx-2598823589\"\n    })) : null)), __jsx(\"td\", {\n      className: \"jsx-2598823589\"\n    }, __jsx(\"div\", {\n      className: \"jsx-2598823589\" + \" \" + \"item-details font6\"\n    }, __jsx(\"p\", {\n      className: \"jsx-2598823589\" + \" \" + \"topicColor\"\n    }, x.item.itemlongname, \" \"), __jsx(\"p\", {\n      className: \"jsx-2598823589\"\n    }, x.item.categery, \"/\", x.item.subcategery, \" \"))), __jsx(\"td\", {\n      className: \"jsx-2598823589\"\n    }, __jsx(\"div\", {\n      className: \"jsx-2598823589\" + \" \" + \"item-details font6\"\n    }, __jsx(\"p\", {\n      className: \"jsx-2598823589\" + \" \" + \"topicColor\"\n    }, \"Rs.\", x.item.itemPrice * (100 - x.item.itemdiscount) / 100, \" x \", x.item.qty, \" = Rs.\", x.item.itemPrice * (100 - x.item.itemdiscount) / 100 * x.item.qty, \" \"), __jsx(\"p\", {\n      className: \"jsx-2598823589\"\n    }, \" \", __jsx(\"strike\", {\n      className: \"jsx-2598823589\" + \" \" + \"fontsizeE-8\"\n    }, \"Rs.\", x.item.itemPrice, \".00\"), \" \", __jsx(\"span\", {\n      className: \"jsx-2598823589\" + \" \" + \"fontcolorOrange fontsizeE-8\"\n    }, x.item.itemdiscount, \"% \"), \"  Rs.\", x.item.itemPrice * (100 - x.item.itemdiscount) / 100, \" \"))), __jsx(\"td\", {\n      className: \"jsx-2598823589\" + \" \" + \"user-details font6\"\n    }, __jsx(\"div\", {\n      className: \"jsx-2598823589\" + \" \" + \"item-details font6\"\n    }, __jsx(\"p\", {\n      className: \"jsx-2598823589\" + \" \" + \"topicColor\"\n    }, x.shop.shopName), __jsx(\"p\", {\n      className: \"jsx-2598823589\"\n    }, \" \", x.shop.district, \" - \", x.shop.town, \" \"), __jsx(\"p\", {\n      className: \"jsx-2598823589\"\n    }, \" \", x.shop.contact1, \" \"))), __jsx(\"td\", {\n      className: \"jsx-2598823589\" + \" \" + \"user-details font6\"\n    }, __jsx(\"div\", {\n      className: \"jsx-2598823589\" + \" \" + \"item-details font6\"\n    }, __jsx(\"p\", {\n      className: \"jsx-2598823589\" + \" \" + \"topicColor \"\n    }, \"you: \", x.userMsg ? x.userMsg : '--'), __jsx(\"p\", {\n      className: \"jsx-2598823589\"\n    }, \"shop: \", x.sellerMsg ? x.sellerMsg : '--'), __jsx(\"button\", {\n      onClick: props.userMassage.bind(_this, x._id, x.state),\n      className: \"jsx-2598823589\" + \" \" + \"btn btn-sm btn-danger fontsizeE-9\"\n    }, \"send msg\"))));\n  }))), !props.orders[0] ? __jsx(\"div\", {\n    className: \"jsx-2598823589\" + \" \" + \"d-flex justify-content-center\"\n  }, __jsx(\"br\", {\n    className: \"jsx-2598823589\"\n  }), __jsx(\"h6\", {\n    className: \"jsx-2598823589\" + \" \" + \"card-title font2 topicColor fontsizeE1\"\n  }, \"Your selected area is empty.\"), __jsx(\"br\", {\n    className: \"jsx-2598823589\"\n  })) : null, __jsx(_JSXStyle, {\n    id: \"2598823589\"\n  }, \".order-table.jsx-2598823589{overflow :auto;-webkit-transition:2s;transition:2s;}.item-details.jsx-2598823589 p.jsx-2598823589{margin-top:0;margin-bottom:0;}.item-details.jsx-2598823589 img.jsx-2598823589{cursor:pointer;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxXZWItcHJvamVjdFxcb25zaG9wTEtcXG15Yml6LW5leHRcXHBhZ2VzXFxteW9yZGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1GRyxBQUdvQixBQUlGLEFBSUUsYUFIQyxFQUpGLEFBUWhCLGNBSEEsc0JBSkEiLCJmaWxlIjoiRDpcXFdlYi1wcm9qZWN0XFxvbnNob3BMS1xcbXliaXotbmV4dFxccGFnZXNcXG15b3JkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xyXG5pbXBvcnQgTGF5b3V0IGZyb20gJy4uL2xheW91dHMvTWFpbkxheW91dCc7XHJcbmltcG9ydCBDYXJ0aXRlbSBmcm9tICcuLi9jb21wb25lbnRzL0NhcnRpdGVtJztcclxuaW1wb3J0IFN1Yk5hdkJhciBmcm9tICcuLi9sYXlvdXRzL1N1Yk5hdmJhcic7XHJcbmltcG9ydCBGb290ZXIgZnJvbSAnLi4vY29tcG9uZW50cy9Gb290ZXInO1xyXG5pbXBvcnQgQ29va2llIGZyb20gXCJqcy1jb29raWVcIjtcclxuaW1wb3J0IHtVcmwsSW1hZ2VVcmwsd2ViLFdlYlVybH0gZnJvbSAnLi8uLi9jb25zdGFudC9tYWluJztcclxuXHJcbmNvbnN0IE9yZGVyVGFibGU9KHByb3BzKT0+e1xyXG5cclxuICByZXR1cm4oXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm9yZGVyLXRhYmxlXCI+XHJcblxyXG4gIDxkaXYgY2xhc3NOYW1lPVwiYnRuLWdyb3VwIGJ0bi1ncm91cC1zbSBjb2wtMTIgXCIgcm9sZT1cImdyb3VwXCIgYXJpYS1sYWJlbD1cIkJhc2ljIGV4YW1wbGVcIj5cclxuICAgIDxidXR0b24gb25DbGljaz17cHJvcHMuZ2V0b3JkZXJieXN0YXRlLmJpbmQodGhpcywnYWxsJyl9IHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXNlY29uZGFyeSBmb250c2l6ZUUxXCI+PGltZyBzcmM9XCJodHRwczovL2ltZy5pY29uczguY29tL2lvcy8yMC9mZmZmZmYvc2hvdy1hbGwtdmlld3MucG5nXCIvPiAgQWxsPC9idXR0b24+XHJcbiAgICA8YnV0dG9uIG9uQ2xpY2s9e3Byb3BzLmdldG9yZGVyYnlzdGF0ZS5iaW5kKHRoaXMsJ25ldycpfSB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1zZWNvbmRhcnkgZm9udHNpemVFMVwiPjxpbWcgc3JjPVwiaHR0cHM6Ly9pbWcuaWNvbnM4LmNvbS9pb3MvMjAvZmZmZmZmL25ldy5wbmdcIi8+IG5ldzwvYnV0dG9uPlxyXG4gICAgPGJ1dHRvbiBvbkNsaWNrPXtwcm9wcy5nZXRvcmRlcmJ5c3RhdGUuYmluZCh0aGlzLCdtYWlsJyl9IHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXNlY29uZGFyeSBmb250c2l6ZUUxXCI+PGltZyBzcmM9XCJodHRwczovL2ltZy5pY29uczguY29tL2lvcy8yMC9mZmZmZmYvdXBsb2FkLW1haWwucG5nXCIvPiBlbWFpbDwvYnV0dG9uPlxyXG4gICAgPGJ1dHRvbiBvbkNsaWNrPXtwcm9wcy5nZXRvcmRlcmJ5c3RhdGUuYmluZCh0aGlzLCdjb25maXJtJyl9IHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXNlY29uZGFyeSBmb250c2l6ZUUxXCI+PGltZyBzcmM9XCJodHRwczovL2ltZy5pY29uczguY29tL2lvcy8yMC9mZmZmZmYvY2hlY2tlZC1jaGVja2JveC5wbmdcIi8+IGNvbmZpcm08L2J1dHRvbj5cclxuICAgIDxidXR0b24gb25DbGljaz17cHJvcHMuZ2V0b3JkZXJieXN0YXRlLmJpbmQodGhpcywncmVtb3ZlLWJ5LWN1c3RvbWVyJyl9IHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLXNlY29uZGFyeSBmb250c2l6ZUUxXCI+IDxpbWcgc3JjPVwiaHR0cHM6Ly9pbWcuaWNvbnM4LmNvbS9pb3MvMjAvZmZmZmZmL3RyYXNoLnBuZ1wiLz4gcmVtb3ZlczwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG4gIDx0YWJsZSBjbGFzc05hbWU9XCJ0YWJsZSB0YWJsZS1zdHJpcGVkXCI+XHJcbiAgICA8dGhlYWQ+XHJcbiAgICAgIDx0cj5cclxuICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj48L3RoPlxyXG4gICAgICAgIDx0aCBzY29wZT1cImNvbFwiPnN0YXRlPC90aD5cclxuICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5JdGVtIERldGFpbHM8L3RoPlxyXG4gICAgICAgIDx0aCBzY29wZT1cImNvbFwiPlByaWNlPC90aD5cclxuICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5TaG9wIGRldGFpbHM8L3RoPlxyXG4gICAgICAgIDx0aCBzY29wZT1cImNvbFwiPm1hc3NhZ2U8L3RoPlxyXG4gICAgICA8L3RyPlxyXG4gICAgPC90aGVhZD5cclxuICAgIDx0Ym9keT5cclxuICB7cHJvcHMub3JkZXJzLm1hcCgoeCxpKT0+XHJcbiAgICAgIDx0ciBrZXk9e2l9PlxyXG4gICAgICA8dGg+PGRpdj48aW1nIHdpZHRoPVwiNTBweFwiIHNyYz17SW1hZ2VVcmwreC5pdGVtLmltYWdlc1swXX0gLz5cclxuICAgICAgIDxwIGNsYXNzTmFtZT1cImZvbnRzaXplRS04XCI+e3guY3JlYXRlRGF0ZX08L3A+XHJcbiAgICAgICA8L2Rpdj4gPC90aD5cclxuICAgICAgPHRkPiBcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbS1kZXRhaWxzIGZvbnQ2XCI+IFxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRvcGljQ29sb3JcIj57eC5zdGF0ZX0gPC9wPlxyXG4gICAgICAgICAgICAgIHt4LnN0YXRlIT0ncmVtb3ZlLWJ5LXNob3AnPzxwPlxyXG4gICAgICAgICAgICA8aW1nIG9uQ2xpY2s9e3Byb3BzLnVwZGF0ZW9yZGVyLmJpbmQodGhpcyx4Ll9pZCwnbmV3Jyl9IHNyYz1cImh0dHBzOi8vaW1nLmljb25zOC5jb20vaW9zLzI1LzAwMDAwMC9uZXcucG5nXCIvPlxyXG4gICAgICAgICAgICAgPGltZyBvbkNsaWNrPXtwcm9wcy51cGRhdGVvcmRlci5iaW5kKHRoaXMseC5faWQsJ3JlbW92ZS1ieS1jdXN0b21lcicpfSBzcmM9XCJodHRwczovL2ltZy5pY29uczguY29tL2lvcy8yNS8wMDAwMDAvdHJhc2gucG5nXCIvPlxyXG4gICAgICAgICAgICAgPC9wPjpudWxsfSBcclxuICAgICAgICAgIDwvZGl2PiBcclxuICAgICAgPC90ZD5cclxuICAgICAgPHRkPiBcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaXRlbS1kZXRhaWxzIGZvbnQ2XCI+IFxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRvcGljQ29sb3JcIj57eC5pdGVtLml0ZW1sb25nbmFtZX0gPC9wPlxyXG4gICAgICAgICAgICAgIDxwPnt4Lml0ZW0uY2F0ZWdlcnl9L3t4Lml0ZW0uc3ViY2F0ZWdlcnl9IDwvcD5cclxuICAgICAgICAgIDwvZGl2PiBcclxuICAgICAgPC90ZD5cclxuICAgICAgPHRkPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpdGVtLWRldGFpbHMgZm9udDZcIj4gXHJcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0b3BpY0NvbG9yXCI+UnMue3guaXRlbS5pdGVtUHJpY2UqKDEwMC14Lml0ZW0uaXRlbWRpc2NvdW50KS8xMDB9IHgge3guaXRlbS5xdHl9ID0gUnMue3guaXRlbS5pdGVtUHJpY2UqKDEwMC14Lml0ZW0uaXRlbWRpc2NvdW50KS8xMDAqeC5pdGVtLnF0eX0gPC9wPlxyXG4gICAgICAgICAgPHAgPiA8c3RyaWtlIGNsYXNzTmFtZT1cImZvbnRzaXplRS04XCI+UnMue3guaXRlbS5pdGVtUHJpY2V9LjAwPC9zdHJpa2U+IDxzcGFuIGNsYXNzTmFtZT1cImZvbnRjb2xvck9yYW5nZSBmb250c2l6ZUUtOFwiPnt4Lml0ZW0uaXRlbWRpc2NvdW50fSUgPC9zcGFuPiAgUnMue3guaXRlbS5pdGVtUHJpY2UqKDEwMC14Lml0ZW0uaXRlbWRpc2NvdW50KS8xMDB9IDwvcD5cclxuICAgICAgICAgIDwvZGl2PiBcclxuICAgICAgPC90ZD5cclxuICAgICAgPHRkIGNsYXNzTmFtZT1cInVzZXItZGV0YWlscyBmb250NlwiPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIml0ZW0tZGV0YWlscyBmb250NlwiPiBcclxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRvcGljQ29sb3JcIj57eC5zaG9wLnNob3BOYW1lfTwvcD5cclxuICAgICAgICAgIDxwID4ge3guc2hvcC5kaXN0cmljdH0gLSB7eC5zaG9wLnRvd259IDwvcD5cclxuICAgICAgICAgIDxwID4ge3guc2hvcC5jb250YWN0MX0gPC9wPlxyXG4gICAgICAgIDwvZGl2PiBcclxuICAgICAgXHJcbiAgICAgIDwvdGQ+XHJcbiAgICAgIDx0ZCBjbGFzc05hbWU9XCJ1c2VyLWRldGFpbHMgZm9udDZcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJpdGVtLWRldGFpbHMgZm9udDZcIj4gXHJcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0b3BpY0NvbG9yIFwiPnlvdToge3gudXNlck1zZz94LnVzZXJNc2c6Jy0tJ308L3A+XHJcbiAgICAgICAgICA8cCA+c2hvcDoge3guc2VsbGVyTXNnP3guc2VsbGVyTXNnOictLSd9PC9wPlxyXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtwcm9wcy51c2VyTWFzc2FnZS5iaW5kKHRoaXMseC5faWQseC5zdGF0ZSl9IGNsYXNzTmFtZT1cImJ0biBidG4tc20gYnRuLWRhbmdlciBmb250c2l6ZUUtOVwiPnNlbmQgbXNnPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+IFxyXG4gICAgICBcclxuICAgICAgPC90ZD5cclxuICAgICAgPC90cj5cclxuICAgICAgKX1cclxuICBcclxuICAgIDwvdGJvZHk+XHJcbiAgPC90YWJsZT5cclxuICB7IXByb3BzLm9yZGVyc1swXT88ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+PGJyLz48aDYgY2xhc3NOYW1lPVwiY2FyZC10aXRsZSBmb250MiB0b3BpY0NvbG9yIGZvbnRzaXplRTFcIj5Zb3VyIHNlbGVjdGVkIGFyZWEgaXMgZW1wdHkuPC9oNj48YnIvPjwvZGl2PjpudWxsfVxyXG4gIFxyXG4gIDxzdHlsZSBqc3g+XHJcbiAge2BcclxuICAub3JkZXItdGFibGV7XHJcbiAgICBvdmVyZmxvdyA6IGF1dG87XHJcbiAgICB0cmFuc2l0aW9uOiAycztcclxuICB9XHJcbiAgLml0ZW0tZGV0YWlscyBwe1xyXG4gICAgbWFyZ2luLXRvcDogMDtcclxuICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbiAgfVxyXG4gIC5pdGVtLWRldGFpbHMgaW1ne1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuICBgfVxyXG4gIDwvc3R5bGU+XHJcbiAgPC9kaXY+XHJcbiAgXHJcbiAgKVxyXG4gIH1cclxuICBcclxuXHJcblxyXG5jbGFzcyBJbmRleCBleHRlbmRzIENvbXBvbmVudCB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIHRvdGFscHJpY2UgOiAwLFxyXG4gICAgICBvcmRlcnM6W11cclxuXHJcbiAgfVxyXG5cdH1cclxuXHJcblxyXG4gICAgZ2V0b3JkZXJieXN0YXRlKHN0YXRlKXtcclxuXHJcbiAgICAgIHZhciB1c2VyID0gQ29va2llLmdldEpTT04oJ3VzZXInKTtcclxuICAgICAgaWYodXNlciYmdXNlci5faWQpe1xyXG4gICAgICBmZXRjaChgJHtVcmx9b3JkZXJieXVzZXJpZC8ke3VzZXIuX2lkfT9zdGF0ZT0ke3N0YXRlfWApXHJcbiAgICAgIC50aGVuKHJlcz0+e3JldHVybiByZXMuanNvbigpO30pXHJcbiAgICAgIC50aGVuKGRhdGE9PnsgdGhpcy5zZXRTdGF0ZSh7b3JkZXJzOmRhdGF9KX0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVvcmRlcihpZCxzdGF0ZSl7XHJcblxyXG4gICAgICBjb25zdCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgIHZhciBqc29uYm9keSA9IHtzdGF0ZTpzdGF0ZX1cclxuICAgICAgZGF0YS5hcHBlbmQoJ2pzb25ib2R5JywgSlNPTi5zdHJpbmdpZnkoanNvbmJvZHkpKTtcclxuICAgICAgZGF0YS5hcHBlbmQoJ3VzZXInLCBKU09OLnN0cmluZ2lmeShDb29raWUuZ2V0SlNPTigndXNlcicpKSk7XHJcbiAgICAgIGZldGNoKCcvYXBpL3VwZGF0ZW9yZGVyLycraWQse1xyXG4gICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBib2R5OmRhdGFcclxuICAgICAgXHJcbiAgICAgICAgICB9XHJcbiAgICAgIClcclxuICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge3RoaXMuZ2V0b3JkZXJieXN0YXRlKHN0YXRlKTsgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsgfSApXHJcbiAgICAgIC50aGVuKGRhdGEgPT4geyBpZihkYXRhIT11bmRlZmluZWQpe2FsZXJ0KGRhdGEubXNnKTt9fSlcclxuICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSlcclxuICAgIH1cclxuICAgXHJcblxyXG4gICAgc2hvd3NpZGViYXIoKXtcclxuICAgICAgICB0aGlzLnJlZnMuY2hpbGQuc2hvd1NpZGViYXIoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdXNlck1hc3NhZ2UoaWQsc3RhdGUpe1xyXG4gICAgICAgIHZhciBzZW5kID0gcHJvbXB0KFwiZW50ZXIgeW91ciBtZXNzYWdlLlwiLCBcIlwiKTtcclxuICAgICAgICBpZihzZW5kIT1udWxsKXtcclxuICAgICAgICBjb25zdCBkYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgdmFyIGpzb25ib2R5ID0ge3VzZXJNc2c6c2VuZCxzZWxsZXJNc2c6Jyd9XHJcbiAgICAgICAgLy92YXIganNvbmJvZHkgPSB7c3RhdGU6J25ldyd9XHJcbiAgICAgICAgZGF0YS5hcHBlbmQoJ2pzb25ib2R5JywgSlNPTi5zdHJpbmdpZnkoanNvbmJvZHkpKTtcclxuICAgICAgICBkYXRhLmFwcGVuZCgndXNlcicsIEpTT04uc3RyaW5naWZ5KENvb2tpZS5nZXRKU09OKCd1c2VyJykpKTtcclxuICAgICAgICBmZXRjaCgnL2FwaS91cGRhdGVvcmRlci8nK2lkLHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OmRhdGFcclxuICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7dGhpcy5nZXRvcmRlcmJ5c3RhdGUoc3RhdGUpOyByZXR1cm4gcmVzcG9uc2UuanNvbigpOyB9IClcclxuICAgICAgICAudGhlbihkYXRhID0+IHsgaWYoZGF0YSE9dW5kZWZpbmVkKXthbGVydChkYXRhLm1zZyk7fX0pXHJcbiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSlcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICAgY29tcG9uZW50RGlkTW91bnQoKXtcclxuICAgICAgICB2YXIgdXNlciA9IENvb2tpZS5nZXRKU09OKCd1c2VyJyk7XHJcbiAgICAgICAgaWYodXNlciYmdXNlci5faWQpe1xyXG4gICAgICAgICAgZmV0Y2goYCR7VXJsfW9yZGVyYnl1c2VyaWQvJHt1c2VyLl9pZH0/c3RhdGU9bmV3YClcclxuICAgICAgICAgIC50aGVuKHJlcz0+e3JldHVybiByZXMuanNvbigpO30pXHJcbiAgICAgICAgICAudGhlbihkYXRhPT57IHRoaXMuc2V0U3RhdGUoe29yZGVyczpkYXRhfSl9KVxyXG4gICAgICAgIH1cclxuICAgICAgIFxyXG5cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmVuZGVyKCkgeyBcclxuICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3Qgc2lkZW5hdmNvbnN0ID0ge3RvcGljIDogJ0NhdGVnZXJpZXMnLHRvcGljbGluazonQWxsIENhdGVnZXJpZXNzJyxzaWRlbmF2bGluazonc2lkZW5hdmxpbmsnLCB2aXNpYmxlOmZhbHNlIH07XHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgIHJldHVybiAoIFxyXG4gICAgICAgICAgICA8TGF5b3V0PlxyXG4gICAgICAgICAgICAgICAgICAgIDxIZWFkPlxyXG4gICAgICAgICAgICAgICAgPHRpdGxlPiB7d2ViLndldG9waWN9PC90aXRsZT5cclxuICAgICAgICAgICAgICAgIDxtZXRhIHByb3BlcnR5PVwib2c6dXJsXCIgICAgICAgICAgIGNvbnRlbnQ9e1dlYlVybH0gLz5cclxuICAgICAgICAgICAgICAgIDxtZXRhIHByb3BlcnR5PVwib2c6dHlwZVwiICAgICAgICAgIGNvbnRlbnQ9XCJhcnRpY2xlXCIgLz5cclxuICAgICAgICAgICAgICAgIDxtZXRhIHByb3BlcnR5PVwib2c6dGl0bGVcIiAgICAgICAgIGNvbnRlbnQ9e3dlYi53ZXRvcGljfSAvPlxyXG4gICAgICAgICAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzpkZXNjcmlwdGlvblwiICAgY29udGVudD17d2ViLndlYkNvbnRlbnR9IC8+XHJcbiAgICAgICAgICAgICAgICA8bWV0YSBwcm9wZXJ0eT1cIm9nOmltYWdlXCIgICAgICAgICBjb250ZW50PXt3ZWIud2ViSW1hZ2V9Lz5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPG1ldGEgbmFtZT1cImtleXdvcmRzXCIgY29udGVudD17d2ViLndlYktleXdvcmR9PjwvbWV0YT5cclxuICAgICAgICAgICAgICAgIDxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9e3dlYi53ZWJDb250ZW50fT48L21ldGE+XHJcbiAgICAgICAgICAgICAgICA8L0hlYWQ+XHJcbiAgICAgICAgICAgICAgICAgPFN1Yk5hdkJhciBzaWRlbmF2Y29uc3Q9e3NpZGVuYXZjb25zdH0vPiBcclxuXHJcbiAgICAgICAgICAgICAgICA8Q2FydGl0ZW0gIHRvcGljPVwiTXkgZmF2b3JpdGVzXCI+PC9DYXJ0aXRlbT5cclxuICAgICAgICAgICAgICAgIDxPcmRlclRhYmxlICBvcmRlcnM9e3RoaXMuc3RhdGUub3JkZXJzfSB1cGRhdGVvcmRlcj17KGlkLHN0YXRlKT0+dGhpcy51cGRhdGVvcmRlcihpZCxzdGF0ZSl9IGdldG9yZGVyYnlzdGF0ZT17KHN0YXRlKT0+dGhpcy5nZXRvcmRlcmJ5c3RhdGUoc3RhdGUpfSB1c2VyTWFzc2FnZT17KGlkLHN0YXRlKT0+dGhpcy51c2VyTWFzc2FnZShpZCxzdGF0ZSl9IC8+XHJcbiAgICAgICAgICAgIDxGb290ZXIvPlxyXG4gICAgICAgICAgICAgICAgICAgPC9MYXlvdXQ+XHJcbiAgICAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgXHJcbn1cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEluZGV4OyBcclxuIl19 */\\n/*@ sourceURL=D:\\\\\\\\Web-project\\\\\\\\onshopLK\\\\\\\\mybiz-next\\\\\\\\pages\\\\\\\\myorder.js */\"));\n};\n\nvar Index = /*#__PURE__*/function (_Component) {\n  _inherits(Index, _Component);\n\n  function Index() {\n    var _this2;\n\n    _classCallCheck(this, Index);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Index).call(this));\n    _this2.state = {\n      totalprice: 0,\n      orders: []\n    };\n    return _this2;\n  }\n\n  _createClass(Index, [{\n    key: \"getorderbystate\",\n    value: function getorderbystate(state) {\n      var _this3 = this;\n\n      var user = Cookie.getJSON('user');\n\n      if (user && user._id) {\n        fetch(\"\".concat(Url, \"orderbyuserid/\").concat(user._id, \"?state=\").concat(state)).then(function (res) {\n          return res.json();\n        }).then(function (data) {\n          _this3.setState({\n            orders: data\n          });\n        });\n      }\n    }\n  }, {\n    key: \"updateorder\",\n    value: function updateorder(id, state) {\n      var _this4 = this;\n\n      var data = new FormData();\n      var jsonbody = {\n        state: state\n      };\n      data.append('jsonbody', _JSON$stringify(jsonbody));\n      data.append('user', _JSON$stringify(Cookie.getJSON('user')));\n      fetch('/api/updateorder/' + id, {\n        method: 'PUT',\n        headers: {},\n        body: data\n      }).then(function (response) {\n        _this4.getorderbystate(state);\n\n        return response.json();\n      }).then(function (data) {\n        if (data != undefined) {\n          alert(data.msg);\n        }\n      })[\"catch\"](function (error) {\n        return console.log(error);\n      });\n    }\n  }, {\n    key: \"showsidebar\",\n    value: function showsidebar() {\n      this.refs.child.showSidebar();\n    }\n  }, {\n    key: \"userMassage\",\n    value: function userMassage(id, state) {\n      var _this5 = this;\n\n      var send = prompt(\"enter your message.\", \"\");\n\n      if (send != null) {\n        var data = new FormData();\n        var jsonbody = {\n          userMsg: send,\n          sellerMsg: ''\n        }; //var jsonbody = {state:'new'}\n\n        data.append('jsonbody', _JSON$stringify(jsonbody));\n        data.append('user', _JSON$stringify(Cookie.getJSON('user')));\n        fetch('/api/updateorder/' + id, {\n          method: 'PUT',\n          headers: {},\n          body: data\n        }).then(function (response) {\n          _this5.getorderbystate(state);\n\n          return response.json();\n        }).then(function (data) {\n          if (data != undefined) {\n            alert(data.msg);\n          }\n        })[\"catch\"](function (error) {\n          return console.log(error);\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this6 = this;\n\n      var user = Cookie.getJSON('user');\n\n      if (user && user._id) {\n        fetch(\"\".concat(Url, \"orderbyuserid/\").concat(user._id, \"?state=new\")).then(function (res) {\n          return res.json();\n        }).then(function (data) {\n          _this6.setState({\n            orders: data\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var sidenavconst = {\n        topic: 'Categeries',\n        topiclink: 'All Categeriess',\n        sidenavlink: 'sidenavlink',\n        visible: false\n      }; //////////////\n\n      return __jsx(Layout, null, __jsx(Head, null, __jsx(\"title\", null, \" \", web.wetopic), __jsx(\"meta\", {\n        property: \"og:url\",\n        content: WebUrl\n      }), __jsx(\"meta\", {\n        property: \"og:type\",\n        content: \"article\"\n      }), __jsx(\"meta\", {\n        property: \"og:title\",\n        content: web.wetopic\n      }), __jsx(\"meta\", {\n        property: \"og:description\",\n        content: web.webContent\n      }), __jsx(\"meta\", {\n        property: \"og:image\",\n        content: web.webImage\n      }), __jsx(\"meta\", {\n        name: \"keywords\",\n        content: web.webKeyword\n      }), __jsx(\"meta\", {\n        name: \"description\",\n        content: web.webContent\n      })), __jsx(SubNavBar, {\n        sidenavconst: sidenavconst\n      }), __jsx(Cartitem, {\n        topic: \"My favorites\"\n      }), __jsx(OrderTable, {\n        orders: this.state.orders,\n        updateorder: function updateorder(id, state) {\n          return _this7.updateorder(id, state);\n        },\n        getorderbystate: function getorderbystate(state) {\n          return _this7.getorderbystate(state);\n        },\n        userMassage: function userMassage(id, state) {\n          return _this7.userMassage(id, state);\n        }\n      }), __jsx(Footer, null));\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport default Index;","map":{"version":3,"sources":["D:/Web-project/onshopLK/mybiz-next/pages/myorder.js"],"names":["React","Component","Head","Layout","Cartitem","SubNavBar","Footer","Cookie","Url","ImageUrl","web","WebUrl","OrderTable","props","getorderbystate","bind","orders","map","x","i","item","images","createDate","state","updateorder","_id","itemlongname","categery","subcategery","itemPrice","itemdiscount","qty","shop","shopName","district","town","contact1","userMsg","sellerMsg","userMassage","Index","totalprice","user","getJSON","fetch","then","res","json","data","setState","id","FormData","jsonbody","append","method","headers","body","response","undefined","alert","msg","error","console","log","refs","child","showSidebar","send","prompt","sidenavconst","topic","topiclink","sidenavlink","visible","wetopic","webContent","webImage","webKeyword"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Head from 'next/head';\r\nimport Layout from '../layouts/MainLayout';\r\nimport Cartitem from '../components/Cartitem';\r\nimport SubNavBar from '../layouts/SubNavbar';\r\nimport Footer from '../components/Footer';\r\nimport Cookie from \"js-cookie\";\r\nimport {Url,ImageUrl,web,WebUrl} from './../constant/main';\r\n\r\nconst OrderTable=(props)=>{\r\n\r\n  return(\r\n    <div className=\"order-table\">\r\n\r\n  <div className=\"btn-group btn-group-sm col-12 \" role=\"group\" aria-label=\"Basic example\">\r\n    <button onClick={props.getorderbystate.bind(this,'all')} type=\"button\" className=\"btn btn-secondary fontsizeE1\"><img src=\"https://img.icons8.com/ios/20/ffffff/show-all-views.png\"/>  All</button>\r\n    <button onClick={props.getorderbystate.bind(this,'new')} type=\"button\" className=\"btn btn-secondary fontsizeE1\"><img src=\"https://img.icons8.com/ios/20/ffffff/new.png\"/> new</button>\r\n    <button onClick={props.getorderbystate.bind(this,'mail')} type=\"button\" className=\"btn btn-secondary fontsizeE1\"><img src=\"https://img.icons8.com/ios/20/ffffff/upload-mail.png\"/> email</button>\r\n    <button onClick={props.getorderbystate.bind(this,'confirm')} type=\"button\" className=\"btn btn-secondary fontsizeE1\"><img src=\"https://img.icons8.com/ios/20/ffffff/checked-checkbox.png\"/> confirm</button>\r\n    <button onClick={props.getorderbystate.bind(this,'remove-by-customer')} type=\"button\" className=\"btn btn-secondary fontsizeE1\"> <img src=\"https://img.icons8.com/ios/20/ffffff/trash.png\"/> removes</button>\r\n  </div>\r\n  <table className=\"table table-striped\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\"></th>\r\n        <th scope=\"col\">state</th>\r\n        <th scope=\"col\">Item Details</th>\r\n        <th scope=\"col\">Price</th>\r\n        <th scope=\"col\">Shop details</th>\r\n        <th scope=\"col\">massage</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n  {props.orders.map((x,i)=>\r\n      <tr key={i}>\r\n      <th><div><img width=\"50px\" src={ImageUrl+x.item.images[0]} />\r\n       <p className=\"fontsizeE-8\">{x.createDate}</p>\r\n       </div> </th>\r\n      <td> \r\n          <div className=\"item-details font6\"> \r\n              <p className=\"topicColor\">{x.state} </p>\r\n              {x.state!='remove-by-shop'?<p>\r\n            <img onClick={props.updateorder.bind(this,x._id,'new')} src=\"https://img.icons8.com/ios/25/000000/new.png\"/>\r\n             <img onClick={props.updateorder.bind(this,x._id,'remove-by-customer')} src=\"https://img.icons8.com/ios/25/000000/trash.png\"/>\r\n             </p>:null} \r\n          </div> \r\n      </td>\r\n      <td> \r\n          <div className=\"item-details font6\"> \r\n              <p className=\"topicColor\">{x.item.itemlongname} </p>\r\n              <p>{x.item.categery}/{x.item.subcategery} </p>\r\n          </div> \r\n      </td>\r\n      <td>\r\n          <div className=\"item-details font6\"> \r\n          <p className=\"topicColor\">Rs.{x.item.itemPrice*(100-x.item.itemdiscount)/100} x {x.item.qty} = Rs.{x.item.itemPrice*(100-x.item.itemdiscount)/100*x.item.qty} </p>\r\n          <p > <strike className=\"fontsizeE-8\">Rs.{x.item.itemPrice}.00</strike> <span className=\"fontcolorOrange fontsizeE-8\">{x.item.itemdiscount}% </span>  Rs.{x.item.itemPrice*(100-x.item.itemdiscount)/100} </p>\r\n          </div> \r\n      </td>\r\n      <td className=\"user-details font6\">\r\n      <div className=\"item-details font6\"> \r\n          <p className=\"topicColor\">{x.shop.shopName}</p>\r\n          <p > {x.shop.district} - {x.shop.town} </p>\r\n          <p > {x.shop.contact1} </p>\r\n        </div> \r\n      \r\n      </td>\r\n      <td className=\"user-details font6\">\r\n      <div className=\"item-details font6\"> \r\n          <p className=\"topicColor \">you: {x.userMsg?x.userMsg:'--'}</p>\r\n          <p >shop: {x.sellerMsg?x.sellerMsg:'--'}</p>\r\n          <button onClick={props.userMassage.bind(this,x._id,x.state)} className=\"btn btn-sm btn-danger fontsizeE-9\">send msg</button>\r\n        </div> \r\n      \r\n      </td>\r\n      </tr>\r\n      )}\r\n  \r\n    </tbody>\r\n  </table>\r\n  {!props.orders[0]?<div className=\"d-flex justify-content-center\"><br/><h6 className=\"card-title font2 topicColor fontsizeE1\">Your selected area is empty.</h6><br/></div>:null}\r\n  \r\n  <style jsx>\r\n  {`\r\n  .order-table{\r\n    overflow : auto;\r\n    transition: 2s;\r\n  }\r\n  .item-details p{\r\n    margin-top: 0;\r\n    margin-bottom: 0;\r\n  }\r\n  .item-details img{\r\n    cursor: pointer;\r\n  }\r\n  `}\r\n  </style>\r\n  </div>\r\n  \r\n  )\r\n  }\r\n  \r\n\r\n\r\nclass Index extends Component {\r\n\r\n  constructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n      totalprice : 0,\r\n      orders:[]\r\n\r\n  }\r\n\t}\r\n\r\n\r\n    getorderbystate(state){\r\n\r\n      var user = Cookie.getJSON('user');\r\n      if(user&&user._id){\r\n      fetch(`${Url}orderbyuserid/${user._id}?state=${state}`)\r\n      .then(res=>{return res.json();})\r\n      .then(data=>{ this.setState({orders:data})})\r\n      }\r\n    }\r\n\r\n    updateorder(id,state){\r\n\r\n      const data = new FormData();\r\n      var jsonbody = {state:state}\r\n      data.append('jsonbody', JSON.stringify(jsonbody));\r\n      data.append('user', JSON.stringify(Cookie.getJSON('user')));\r\n      fetch('/api/updateorder/'+id,{\r\n          method: 'PUT',\r\n          headers: {\r\n          },\r\n          body:data\r\n      \r\n          }\r\n      )\r\n      .then(response => {this.getorderbystate(state); return response.json(); } )\r\n      .then(data => { if(data!=undefined){alert(data.msg);}})\r\n      .catch(error => console.log(error))\r\n    }\r\n   \r\n\r\n    showsidebar(){\r\n        this.refs.child.showSidebar();\r\n      }\r\n\r\n      userMassage(id,state){\r\n        var send = prompt(\"enter your message.\", \"\");\r\n        if(send!=null){\r\n        const data = new FormData();\r\n        var jsonbody = {userMsg:send,sellerMsg:''}\r\n        //var jsonbody = {state:'new'}\r\n        data.append('jsonbody', JSON.stringify(jsonbody));\r\n        data.append('user', JSON.stringify(Cookie.getJSON('user')));\r\n        fetch('/api/updateorder/'+id,{\r\n            method: 'PUT',\r\n            headers: {\r\n            },\r\n            body:data\r\n        \r\n            }\r\n        )\r\n        .then(response => {this.getorderbystate(state); return response.json(); } )\r\n        .then(data => { if(data!=undefined){alert(data.msg);}})\r\n        .catch(error => console.log(error))\r\n      }\r\n    }\r\n\r\n      componentDidMount(){\r\n        var user = Cookie.getJSON('user');\r\n        if(user&&user._id){\r\n          fetch(`${Url}orderbyuserid/${user._id}?state=new`)\r\n          .then(res=>{return res.json();})\r\n          .then(data=>{ this.setState({orders:data})})\r\n        }\r\n       \r\n\r\n    }\r\n    \r\n    render() { \r\n      \r\n          \r\n            const sidenavconst = {topic : 'Categeries',topiclink:'All Categeriess',sidenavlink:'sidenavlink', visible:false };\r\n        //////////////\r\n          return ( \r\n            <Layout>\r\n                    <Head>\r\n                <title> {web.wetopic}</title>\r\n                <meta property=\"og:url\"           content={WebUrl} />\r\n                <meta property=\"og:type\"          content=\"article\" />\r\n                <meta property=\"og:title\"         content={web.wetopic} />\r\n                <meta property=\"og:description\"   content={web.webContent} />\r\n                <meta property=\"og:image\"         content={web.webImage}/>\r\n                \r\n                <meta name=\"keywords\" content={web.webKeyword}></meta>\r\n                <meta name=\"description\" content={web.webContent}></meta>\r\n                </Head>\r\n                 <SubNavBar sidenavconst={sidenavconst}/> \r\n\r\n                <Cartitem  topic=\"My favorites\"></Cartitem>\r\n                <OrderTable  orders={this.state.orders} updateorder={(id,state)=>this.updateorder(id,state)} getorderbystate={(state)=>this.getorderbystate(state)} userMassage={(id,state)=>this.userMassage(id,state)} />\r\n            <Footer/>\r\n                   </Layout>\r\n           );\r\n      }\r\n    \r\n}\r\n\r\n\r\n\r\n\r\nexport default Index; \r\n"]},"metadata":{},"sourceType":"module"}