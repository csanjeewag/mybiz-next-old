{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Layout from './../layouts/MainLayout';\nimport Allcatagery from './../components/Allcatagery';\nimport SubNavBar from './../layouts/SubNavbar';\nimport TopSlide from '../components/Topslide';\nimport FilterItem from './../layouts/filterItem';\nimport Footer from './../components/Footer';\nimport { Url } from './../constant/main';\nimport fetch from 'isomorphic-unfetch';\nimport Router from 'next/router';\n\nclass Index extends Component {\n  constructor() {\n    super();\n    this.state = {\n      items: []\n    };\n  }\n\n  routerpush(x) {\n    alert(x);\n  }\n\n  componentDidMount() {\n    this.setState({\n      items: this.props.items\n    });\n  }\n\n  render() {\n    const sidenavconst = {\n      topic: 'Categeries',\n      topiclink: 'All Categeriess',\n      sidenavlink: '',\n      visible: false\n    };\n    return __jsx(Layout, null, __jsx(SubNavBar, {\n      sidenavconst: sidenavconst\n    }), __jsx(FilterItem, {\n      routerpush: this.routerpush\n    }), this.state.items.map((x, i) => __jsx(\"p\", {\n      key: i\n    }, x.urlname)), __jsx(Footer, null));\n  }\n\n}\n\nIndex.getInitialProps = async function (context) {\n  const {\n    category,\n    subcategory,\n    upperprice,\n    lowerprice,\n    district,\n    town,\n    search\n  } = context.query;\n  console.log('vh');\n  var url = ` ${Url}itemfilter?${search ? 'search=' + search : 'search='}` + `${category ? '&category=' + category : ''}${subcategory ? '&subcategory=' + subcategory : ''}` + `${district ? '&district=' + district : ''}${town ? '&town=' + town : ''}` + `${lowerprice ? '&lowerprice=' + lowerprice : ''}${upperprice ? '&upperprice=' + upperprice : ''}`;\n  const res = await fetch(url);\n  var items = await res.json();\n  var error = false;\n\n  if (res.status != 200) {\n    error = true;\n  }\n\n  return {\n    items,\n    error\n  };\n};\n\nexport default Index;","map":{"version":3,"sources":["D:/Web-project/myapp/pages/filter.js"],"names":["React","Component","Layout","Allcatagery","SubNavBar","TopSlide","FilterItem","Footer","Url","fetch","Router","Index","constructor","state","items","routerpush","x","alert","componentDidMount","setState","props","render","sidenavconst","topic","topiclink","sidenavlink","visible","map","i","urlname","getInitialProps","context","category","subcategory","upperprice","lowerprice","district","town","search","query","console","log","url","res","json","error","status"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAAQC,GAAR,QAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,MAAMC,KAAN,SAAoBV,SAApB,CAA8B;AAC1BW,EAAAA,WAAW,GAAG;AAChB;AACA,SAAKC,KAAL,GAAa;AACHC,MAAAA,KAAK,EAAC;AADH,KAAb;AAIA;;AAEEC,EAAAA,UAAU,CAACC,CAAD,EAAG;AACTC,IAAAA,KAAK,CAACD,CAAD,CAAL;AACH;;AAEDE,EAAAA,iBAAiB,GAAE;AACf,SAAKC,QAAL,CAAc;AAACL,MAAAA,KAAK,EAAC,KAAKM,KAAL,CAAWN;AAAlB,KAAd;AACH;;AAEDO,EAAAA,MAAM,GAAG;AACL,UAAMC,YAAY,GAAG;AAACC,MAAAA,KAAK,EAAG,YAAT;AAAsBC,MAAAA,SAAS,EAAC,iBAAhC;AAAkDC,MAAAA,WAAW,EAAC,EAA9D;AAAiEC,MAAAA,OAAO,EAAC;AAAzE,KAArB;AAGE,WACC,MAAC,MAAD,QACK,MAAC,SAAD;AAAW,MAAA,YAAY,EAAEJ;AAAzB,MADL,EAGH,MAAC,UAAD;AAAY,MAAA,UAAU,EAAE,KAAKP;AAA7B,MAHG,EAIF,KAAKF,KAAL,CAAWC,KAAX,CAAiBa,GAAjB,CAAqB,CAACX,CAAD,EAAGY,CAAH,KAClB;AAAG,MAAA,GAAG,EAAEA;AAAR,OAAYZ,CAAC,CAACa,OAAd,CADH,CAJE,EAQN,MAAC,MAAD,OARM,CADD;AAaH;;AAlCuB;;AAsC9BlB,KAAK,CAACmB,eAAN,GAAwB,gBAAeC,OAAf,EAAwB;AAC5C,QAAM;AAAEC,IAAAA,QAAF;AAAWC,IAAAA,WAAX;AAAuBC,IAAAA,UAAvB;AAAkCC,IAAAA,UAAlC;AAA6CC,IAAAA,QAA7C;AAAsDC,IAAAA,IAAtD;AAA2DC,IAAAA;AAA3D,MAAsEP,OAAO,CAACQ,KAApF;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACA,MAAIC,GAAG,GAAI,IAAGlC,GAAI,cAAa8B,MAAM,GAAC,YAAUA,MAAX,GAAkB,SAAU,EAAvD,GACG,GAAEN,QAAQ,GAAC,eAAaA,QAAd,GAAuB,EAAG,GAAEC,WAAW,GAAC,kBAAgBA,WAAjB,GAA6B,EAAG,EADpF,GAEG,GAAEG,QAAQ,GAAC,eAAaA,QAAd,GAAuB,EAAG,GAAEC,IAAI,GAAC,WAASA,IAAV,GAAe,EAAG,EAF/D,GAGG,GAAEF,UAAU,GAAC,iBAAeA,UAAhB,GAA2B,EAAG,GAAED,UAAU,GAAC,iBAAeA,UAAhB,GAA2B,EAAG,EAHjG;AAKA,QAAMS,GAAG,GAAG,MAAMlC,KAAK,CAACiC,GAAD,CAAvB;AACA,MAAK5B,KAAK,GAAG,MAAM6B,GAAG,CAACC,IAAJ,EAAnB;AACA,MAAIC,KAAK,GAAG,KAAZ;;AACA,MAAGF,GAAG,CAACG,MAAJ,IAAY,GAAf,EAAmB;AACfD,IAAAA,KAAK,GAAG,IAAR;AACJ;;AACA,SAAO;AAAC/B,IAAAA,KAAD;AAAO+B,IAAAA;AAAP,GAAP;AAGD,CAjBH;;AAmBA,eAAelC,KAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Layout from './../layouts/MainLayout';\r\nimport Allcatagery from './../components/Allcatagery';\r\nimport SubNavBar from './../layouts/SubNavbar';\r\nimport TopSlide from '../components/Topslide';\r\nimport FilterItem from './../layouts/filterItem';\r\nimport Footer from './../components/Footer';\r\nimport {Url} from './../constant/main';\r\nimport fetch from 'isomorphic-unfetch';\r\nimport Router from 'next/router';\r\n\r\nclass Index extends Component {\r\n    constructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {\r\n            items:[]\r\n\r\n  }\r\n\t}\r\n\r\n    routerpush(x){\r\n        alert(x)\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.setState({items:this.props.items})\r\n    }\r\n    \r\n    render() { \r\n        const sidenavconst = {topic : 'Categeries',topiclink:'All Categeriess',sidenavlink:'',visible:false };\r\n    \r\n\r\n          return ( \r\n           <Layout>\r\n                <SubNavBar sidenavconst={sidenavconst}/>\r\n       \r\n        <FilterItem routerpush={this.routerpush}></FilterItem>\r\n        {this.state.items.map((x,i)=>\r\n            <p key={i}>{x.urlname}</p>\r\n            )}\r\n    \r\n     <Footer></Footer>\r\n  \r\n                  </Layout>\r\n           );\r\n      }\r\n    \r\n}\r\n\r\nIndex.getInitialProps = async function(context) {\r\n    const { category,subcategory,upperprice,lowerprice,district,town,search } = context.query;\r\n    console.log('vh')\r\n    var url = ` ${Url}itemfilter?${search?'search='+search:'search='}`+\r\n                `${category?'&category='+category:''}${subcategory?'&subcategory='+subcategory:''}`+\r\n                `${district?'&district='+district:''}${town?'&town='+town:''}`+\r\n                `${lowerprice?'&lowerprice='+lowerprice:''}${upperprice?'&upperprice='+upperprice:''}`;\r\n\r\n    const res = await fetch(url);\r\n    var  items = await res.json();\r\n    var error = false;\r\n    if(res.status!=200){\r\n        error = true ;\r\n   }\r\n    return {items,error}\r\n\r\n\r\n  }\r\n\r\nexport default Index; \r\n"]},"metadata":{},"sourceType":"module"}